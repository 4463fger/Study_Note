[toc]

# Lua 条件分支语句



## 一、基础条件分支

### 1. 单分支 if 语句

```lua
a = 9
if a > 5 then
    print("大于5")
end
```

> **语法特点**：
>
> - 使用 `if` 开始条件判断
> - 使用 `then` 指定条件为真时执行的代码块
> - 使用 `end` 结束条件语句块
> - **不需要括号包裹条件表达式**

---

### 2. 双分支 if-else 语句

```lua
a = 9
if a < 5 then
    print("小于5")
else
    print("大于5")
end
```

> **语法特点**：
> - `else` 用于条件为假时的执行代码
> - 与 `if` 配合使用，形成二选一的逻辑结构

---

### 3. 多分支 if-elseif-else 语句

```lua
a = 9
if a < 5 then
    print("小于5")
elseif a == 5 then
    print("等于5")
elseif a > 5 then
    print("大于5")
end
```

> **关键特性**：
> - **必须使用 `elseif` 连写**（不能分开写成 `else if`）
> - 一旦某个条件为真，执行对应代码块后立即结束条件判断
> - 可以有任意数量的 `elseif` 分支

---

## 二、复合条件表达式

```lua
if a > 3 and a < 10 then
    print("大于3小于10")
end
```

> **逻辑运算符**：
> - `and`：逻辑与（需两个条件都为真）
> - `or`：逻辑或（只要一个条件为真）
> - `not`：逻辑非（取反）

> **注意**：Lua 的条件表达式**不需要括号**，但为了可读性，建议使用括号。

---

## 三、Lua 中没有 switch 语句

Lua **不支持** `switch` 语句，需要使用多分支 `if-elseif` 实现类似功能：

```lua
a = 5
if a == 1 then
    print("等于1")
elseif a == 2 then
    print("等于2")
elseif a == 3 then
    print("等于3")
else
    print("其他值")
end
```

> **替代方案**：
> - 使用 `if-elseif-else` 实现多条件判断
> - 对于复杂的多条件判断，可考虑使用表（table）实现映射



---

## 四、关键特性总结

| 特性        | 说明                                                         |
| ----------- | ------------------------------------------------------------ |
| 语句结构    | `if condition then ... elseif ... else ... end`              |
| 条件表达式  | 不需要括号，支持 `and`、`or`、`not` 逻辑运算符               |
| 多分支写法  | `elseif` 必须连写，不能分开写成 `else if`                    |
| switch 语句 | Lua 原生不支持，需用 `if-elseif` 替代                        |
| 逻辑短路    | `and` 和 `or` 会进行逻辑短路（`a and b`，如果 `a` 为假，不会计算 `b`） |
