[toc]

## XLua 热补丁核心流程
1. **C# 类准备**
   - 使用 `[Hotfix]` 特性标记需要热更新的类
   - 需在 `Scripting Define Symbols` 中添加 `HOTFIX_ENABLED` 宏（仅开发阶段）
   - 需要生成``xlua`代码
   
2. **Lua 热补丁实现**
   - 使用 `xlua.hotfix(类路径, 方法名, Lua函数)` 注入逻辑
   - **关键区别**：
     
     | 方法类型 | 是否需要 `self` 参数 | 示例              |
     | -------- | -------------------- | ----------------- |
     | 实例方法 | ✅ 需要               | `Add(self, a, b)` |
     | 静态方法 | ❌ 不需要             | `Speak(str)`      |
   
3. **热补丁代码示例**
   ```lua
   print("**********第一个热补丁**********")
   -- 替换实例方法（需加 self）
   xlua.hotfix(CS.Study.HotfixMain, "Add", function(self, a, b)
       print("热补丁Add")
       return a + b
   end)
   
   -- 替换静态方法（无需 self）
   xlua.hotfix(CS.Study.HotfixMain, "Speak", function(str)
       print("热补丁Speak")
       return str
   end)
   ```

---

## 对应C#测试代码
```csharp
[Hotfix]
public class HotfixMain : MonoBehaviour {
    public int Add(int a, int b) { return 0; }
    public static void Speak(string str) { ... }
}
```