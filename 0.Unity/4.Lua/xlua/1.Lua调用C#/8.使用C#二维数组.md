[toc]

---

# Lua 调用 C# 二维数组

## 一、二维数组访问规则

> **核心限制**：C# 二维数组在 Lua 中不能直接使用 `array[0,0]` 访问元素，需通过 `GetValue(x, y)` 方法。

---

### 1. 获取数组维度
```lua
Code8 = CS.LuaCallCsharp.Code8
local obj = Code8()

-- 获取行数和列数
print("行:" .. obj.array:GetLength(0)) -- 输出: 行:3
print("列:" .. obj.array:GetLength(1)) -- 输出: 列:2
```

> **关键点**：
>
> - `GetLength(0)` 获取第一维度（行数）
> - `GetLength(1)` 获取第二维度（列数）
---

### 2. 访问数组元素
```lua
-- 通过 GetValue(x, y) 方法访问元素
print(obj.array:GetValue(0, 0)) -- 输出: 1
print(obj.array:GetValue(1, 0)) -- 输出: 4
```

> **注意**：
>
> - **索引从 `0` 开始**（与 C# 一致）
> - **不能使用 `obj.array[0,0]` 语法**，会抛出错误
---

## 二、参考代码结构（C# 对应）

```csharp
public class Code8
{
    public int[,] array = new int[3, 2] {
        {1, 2},
        {3, 4},
        {5, 6}
    };
}
```
